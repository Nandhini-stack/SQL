CREATE TABLE STOCKS(S_ID INT PRIMARY KEY     NOT NULL,
          			S_NAME           TEXT    NOT NULL,
         			S_REMAIN         TEXT,
          			S_REQUIRED       TEXT  );
				
CREATE TABLE S_UPDATE_INFO (E_ID INT NOT NULL,
          					ENTRY_DATE TEXT NOT NULL);
							
CREATE TRIGGER STOCK_TRIGGER AFTER INSERT ON STOCKS
FOR EACH ROW EXECUTE PROCEDURE UPDATEFUNC();

CREATE FUNCTION UPDATEFUNC() RETURNS TRIGGER AS $example_table$
BEGIN
      	INSERT INTO S_UPDATE_INFO(E_ID, ENTRY_DATE) VALUES (new.S_ID, current_timestamp);
     	RETURN NEW;
END;
$example_table$ LANGUAGE plpgsql;

INSERT INTO STOCKS (S_ID,S_NAME,S_REMAIN,S_REQUIRED) VALUES (127, 'CEMENT', '8 BAGS', '12 BAGS');

CREATE DATABASE EX;
DROP TABLE S_UPDATE_INFO;